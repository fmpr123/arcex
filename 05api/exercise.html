<!doctype html>
<html>
<head>
    <title>ACR Vue</title>
</head>
<body style="padding: 40px;">
    <ul>
        <li><a href="index.html">Fetch API</a></li>
        <li><a href="vue.html">vue.js + fetch</a></li>
        <li><a href="jquery.html">jQuery AJAX</a></li>
        <li><a href="exercise.html">Exercise</a></li>
        <li><a href="xhr.html">XMLHttpRequest</a></li>
    </ul>
    <div class="container content" id="app">
        <h3>Vue</h3>
        <button id="btn1" v-on:click="fetchPosts">list posts</button>
        <button id="btn2" v-on:click="fetchPost1">posts1</button>
        <button id="btn3" v-on:click="fetchTodos2">user 2 todos</button>
        
        <button id="btn4" v-on:click="fetchAlbums">albuns user 2</button>
        <button id="btn5" v-on:click="fetchFirstPhoto">user 2 todos</button>
        <button id="btn6" v-on:click="fetchAlbum4">user 2 todos</button>
        
        <div class="row">
          <h2>Posts</h2>
          <div class="col-md-2" v-for="post in posts">
              <div class="advs-box advs-box-top-icon">
                  <h4>{{ post.title }}</h4>
              </div>
          </div>
        </div>

        <p class="row">
          <p>{{ posts1.title }}</p>

          <div class="col-md-2" v-for="post in posts2">
              <div class="advs-box advs-box-top-icon">
                  <h4>{{ posts2 }}</h4>
              </div>
          </div>
          <p>{{ posts3.title }}</p>
          <p>{{ posts3.thumbnailUrl }}</p>
          <p>{{ posts4 }}</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <script>
    var app = new Vue({
      el: '#app',
      data: {
        user: {},
        posts: null,
        posts1:{},
        posts2:null,
        posts3:{},
        posts4:null
      },
      methods: {
        fetchPosts: function () {
          fetch('https://jsonplaceholder.typicode.com/posts')
            .then(res => res.json())
            .then(json => {
              console.log(json);
              this.posts = json
              console.log(json)
            }).catch( error => { console.log(error); });
        },
        fetchPost1: function () {
          fetch('https://jsonplaceholder.typicode.com/posts/1')
            .then(res => res.json())
            .then(json => {
              this.posts1 = json;
              console.log(json)
            }).catch( error => { console.log(error); });
        },
        fetchTodos2: function () {
          fetch('https://jsonplaceholder.typicode.com/todos?userId=2&completed=true')
            .then(res => res.json())
            .then(json => {
              this.posts2 = json
              console.log(json)
            }).catch( error => { console.log(error); });
        },
        fetchAlbums: function () {
          fetch('https://jsonplaceholder.typicode.com/albums?userId=2')
            .then(res => res.json())
            .then(json => {
              // this.posts2 = json
              console.log("Numero de albums: "+json.length)
            }).catch( error => { console.log(error); });
        },
        fetchFirstPhoto: function () {
          fetch('https://jsonplaceholder.typicode.com/photos?albumId=3')
            .then(res => res.json())
            .then(json => {
              this.posts3 = json[0]
              console.log(json[0])
            }).catch( error => { console.log(error); });
        },
        fetchAlbum4: function () {
          fetch('https://jsonplaceholder.typicode.com/photos?albumId=4')
            .then(res => res.json())
            .then(json => {
              for(var i=0;i<json.length;i++){
                this.posts4+=json[i].title+json[i].id
              }
            }).catch( error => { console.log(error); });
        }
      }

    })
    </script>
</body>
</html>








